---
let { page, locale } = Astro.props;
import { getRelativeLocaleUrl } from "astro:i18n";
import LanguagePicker from "./LanguagePicker.astro";
---

{
  locale === "en" && (
    <nav
  x-data="{ open: false }"
  class="flex items-center justify-between w-full px-11 py-4 text-white transition-all duration-300 backdrop-blur-xs"
>
  <div class="text-6xl font-[NeueMachinaRegular]">Quatuor Mémoire</div>

  <ul class="hidden md:flex gap-6 items-center text-lg font-[NeueMachinaRegular]">
    <li>
      <a
        href={`${getRelativeLocaleUrl(locale)}#about`}
        class:list={[{ 'font-bold': page === 'about' }]}
      >
        About
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(locale, 'calendar')}
        class:list={[{ 'font-bold': page === 'calendar' }]}
      >
        Calendar
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(locale, 'media')}
        class:list={[{ 'font-bold': page === 'media' }]}
      >
        Media
      </a>
    </li>
    <li>
      <a
        href="https://drive.google.com/drive/folders/1AvERT-nCX6IuwQJze5NY0PcTaD6-cKuQ?usp=share_link" target="_blank"
      >
        Press Kit
      </a>
    </li>
    <li>
      <a
        href={getRelativeLocaleUrl(locale, 'contact')}
        class:list={[{ 'font-bold': page === 'contact' }]}
      >
        Contact
      </a>
    </li>
    <LanguagePicker />
  </ul>

  <button
  @click="open = !open"
  class="md:hidden flex flex-col justify-between w-8 h-6 focus:outline-none overflow-visible"
>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? 'rotate-45 translate-y-2' : ''"
  ></span>
  <span
    class="block h-0.5 w-full bg-white transition-all duration-500 ease-in-out"
    :class="open ? 'opacity-0 scale-90' : 'opacity-100 scale-100'"
  ></span>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? '-rotate-45 -translate-y-2' : ''"
  ></span>
</button>

  <div
    x-show="open"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="absolute top-full left-0 w-full bg-black/80 backdrop-blur-md md:hidden flex flex-col items-center gap-4 py-6 text-lg"
  >
    <a
      href={getRelativeLocaleUrl(locale)}
      class:list={[{ 'font-bold': page === 'about' }]}
      @click="open = false"
    >
      About
    </a>
    <a href={getRelativeLocaleUrl(locale, 'calendar')} @click="open = false">Calendar</a>
    <a href={getRelativeLocaleUrl(locale, 'media')} @click="open = false">Media</a>
    <a href={getRelativeLocaleUrl(locale, 'press-kit')} @click="open = false">Press Kit</a>
    <a href={getRelativeLocaleUrl(locale, 'contact')} @click="open = false">Contact</a>
    <LanguagePicker />
  </div>
</nav>
  )
}

{
  locale === "fr" && (
    <nav
  x-data="{ open: false }"
  class="flex items-center justify-between w-full px-11 py-4 text-white transition-all duration-300 backdrop-blur-xs"
>
  <div class="text-6xl font-[NeueMachinaRegular]">Quatuor Mémoire</div>

  <ul class="hidden md:flex gap-6 items-center text-lg font-[NeueMachinaRegular]">
    <li>
      <a
        href={`${getRelativeLocaleUrl(locale)}#about`}
        class:list={[{ 'font-bold': page === 'about' }]}
      >
        À propos
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(locale, 'calendar')}
        class:list={[{ 'font-bold': page === 'calendar' }]}
      >
        Calendrier
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(locale, 'media')}
        class:list={[{ 'font-bold': page === 'media' }]}
      >
        Média
      </a>
    </li>
    <li>
      <a
        href="https://drive.google.com/drive/folders/1AvERT-nCX6IuwQJze5NY0PcTaD6-cKuQ?usp=share_link" target="_blank"
      >
        Dossier de Presse
      </a>
    </li>
    <li>
      <a
        href={getRelativeLocaleUrl(locale, 'contact')}
        class:list={[{ 'font-bold': page === 'contact' }]}
      >
        Contacter
      </a>
    </li>
    <LanguagePicker />
  </ul>

  <button
  @click="open = !open"
  class="md:hidden flex flex-col justify-between w-8 h-6 focus:outline-none overflow-visible"
>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? 'rotate-45 translate-y-2' : ''"
  ></span>
  <span
    class="block h-0.5 w-full bg-white transition-all duration-500 ease-in-out"
    :class="open ? 'opacity-0 scale-90' : 'opacity-100 scale-100'"
  ></span>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? '-rotate-45 -translate-y-2' : ''"
  ></span>
</button>

  <div
    x-show="open"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="absolute top-full left-0 w-full bg-black/80 backdrop-blur-md md:hidden flex flex-col items-center gap-4 py-6 text-lg"
  >
    <a
      href={getRelativeLocaleUrl(locale)}
      class:list={[{ 'font-bold': page === 'about' }]}
      @click="open = false"
    >
      À propos
    </a>
    <a href={getRelativeLocaleUrl(locale, 'calendar')} @click="open = false">Calendrier</a>
    <a href={getRelativeLocaleUrl(locale, 'media')} @click="open = false">Média</a>
    <a href={getRelativeLocaleUrl(locale, 'press-kit')} @click="open = false">Dossier de Presse</a>
    <a href={getRelativeLocaleUrl(locale, 'contact')} @click="open = false">Contacter</a>
    <LanguagePicker />
  </div>
</nav>
  )
}
