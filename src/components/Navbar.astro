---
let { page, locale } = Astro.props;
import { getRelativeLocaleUrl } from "astro:i18n";
import LanguagePicker from "./LanguagePicker.astro";
const currentLocale = Astro.url.pathname.startsWith("/en") ? "en" : "fr";
---

{
  locale === "en" && (
    <nav
  x-data="{ open: false }"
  class="flex items-center justify-between w-full px-11 py-4 text-white transition-all duration-300 backdrop-blur-xs"
>
  <div class="text-6xl font-[NeueMachinaRegular]">Quatuor Mémoire</div>

  <ul class="hidden md:flex gap-6 items-center text-lg font-[NeueMachinaRegular]">
    <li>
      <a
        href={`${getRelativeLocaleUrl(currentLocale)}#about`}
        class:list={[{ 'font-bold': page === 'about' }]}
      >
        About
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(currentLocale, 'calendar')}
        class:list={[{ 'font-bold': page === 'calendar' }]}
      >
        Calendar
      </a>
    </li>
    <li>
      <a 
        href={getRelativeLocaleUrl(currentLocale, 'media')}
        class:list={[{ 'font-bold': page === 'media' }]}
      >
        Media
      </a>
    </li>
    <li>
      <a
        href="https://drive.google.com/drive/folders/1AvERT-nCX6IuwQJze5NY0PcTaD6-cKuQ?usp=share_link"
      >
        Press Kit
      </a>
    </li>
    <li>
      <a
        href={getRelativeLocaleUrl(currentLocale, 'contact')}
        class:list={[{ 'font-bold': page === 'contact' }]}
      >
        Contact
      </a>
    </li>
    <LanguagePicker />
  </ul>

  <button
  @click="open = !open"
  class="md:hidden flex flex-col justify-between w-8 h-6 focus:outline-none overflow-visible"
>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? 'rotate-45 translate-y-2' : ''"
  ></span>
  <span
    class="block h-0.5 w-full bg-white transition-all duration-500 ease-in-out"
    :class="open ? 'opacity-0 scale-90' : 'opacity-100 scale-100'"
  ></span>
  <span
    class="block h-0.5 w-full bg-white origin-center transition-all duration-500 ease-in-out"
    :class="open ? '-rotate-45 -translate-y-2' : ''"
  ></span>
</button>

  <div
    x-show="open"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="absolute top-full left-0 w-full bg-black/80 backdrop-blur-md md:hidden flex flex-col items-center gap-4 py-6 text-lg"
  >
    <a
      href={getRelativeLocaleUrl(currentLocale)}
      class:list={[{ 'font-bold': page === 'about' }]}
      @click="open = false"
    >
      About
    </a>
    <a href={getRelativeLocaleUrl(currentLocale, 'calendar')} @click="open = false">Calendar</a>
    <a href={getRelativeLocaleUrl(currentLocale, 'media')} @click="open = false">Media</a>
    <a href={getRelativeLocaleUrl(currentLocale, 'press-kit')} @click="open = false">Press Kit</a>
    <a href={getRelativeLocaleUrl(currentLocale, 'contact')} @click="open = false">Contact</a>
    <LanguagePicker />
  </div>
</nav>
  )
}
<!-- {
  locale === "fr" && (
    <nav
      id="navbar"
      class="flex flex-row justify-between items-center mx-4 mt-5 text-white"
    >
      <div class="text-6xl">Quatuor Mémoire</div>
      <div class="list-none">
        <ul class="flex flex-row gap-4 justify-around items-center text-lg">
          <li>
            <a href={getRelativeLocaleUrl(currentLocale)}>À Propos</a>
          </li>
          <li>
            <a href={getRelativeLocaleUrl(currentLocale, "calendar")}>
              Calendrier
            </a>
          </li>
          <li>
            <a href={getRelativeLocaleUrl(currentLocale, "media")}>Média</a>
          </li>
          <li>
            <a href="https://drive.google.com/drive/folders/1AvERT-nCX6IuwQJze5NY0PcTaD6-cKuQ?usp=share_link">
              Dossier de Presse
            </a>
          </li>
          <li>
            <a href={getRelativeLocaleUrl(currentLocale, "contact")}>Contact</a>
          </li>
          <LanguagePicker />
        </ul>
      </div>
    </nav>
  )
} -->
